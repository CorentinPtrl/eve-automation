default-lease-time {{ default_lease_time }};
max-lease-time {{ max_lease_time }};

# If this DHCP server is the official DHCP server for the local
# network, the authoritative directive should be uncommented.
authoritative;

# Use this to send dhcp log messages to a different log file (you also
# have to hack syslog.conf to complete the redirection).
log-facility local7;

# No service will be given on this subnet, but declaring it helps the
# DHCP server to understand the network topology.

subnet 192.168.5.0 netmask 255.255.255.0 {}

# This is a very basic subnet declaration.

{% for subnet in subnets %}
{% for name, details in subnet.items() %}
subnet {{ details.sub }} netmask {{ details.mask }} {
    range {{ details.min }} {{ details.max }};
    option routers {{ details.gateway }};
}

{% endfor %}
{% endfor %}